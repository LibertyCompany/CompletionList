<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>One Liberty Meeting Agenda</title>

  <!-- PDF engine (GitHub Pages friendly) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

  <style>
    :root{
      --navy:#092041;
      --navy2:#06162f;
      --red:#C62241;
      --white:#ffffff;

      --ink:#eaf0ff;
      --muted: rgba(234,240,255,.72);

      --glass: rgba(255,255,255,.06);
      --stroke: rgba(255,255,255,.16);
      --shadow: 0 18px 70px rgba(0,0,0,.40);
      --radius: 22px;

      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: var(--sans);
      color: var(--ink);
      background:
        radial-gradient(1200px 800px at 15% 10%, rgba(198,34,65,.20), transparent 60%),
        radial-gradient(1100px 780px at 85% 10%, rgba(255,255,255,.10), transparent 62%),
        radial-gradient(1200px 800px at 55% 115%, rgba(198,34,65,.12), transparent 60%),
        linear-gradient(180deg, #07162f 0%, #06122a 50%, #060f24 100%);
      overflow-x:hidden;
    }

    /* ===== Background: One Liberty motion system ===== */
    .bg{ position: fixed; inset: 0; pointer-events: none; z-index: 0; overflow:hidden; }
    .bgWord{
      position:absolute; left:50%; top:52%;
      transform: translate(-50%,-50%) rotate(-12deg);
      font-weight:900; letter-spacing:.38em; text-transform:uppercase;
      font-size: clamp(72px, 10vw, 160px);
      color: rgba(255,255,255,.06);
      white-space:nowrap;
      will-change: transform;
      animation: drift 18s ease-in-out infinite;
    }
    @keyframes drift{
      0%{ transform: translate(-50%,-50%) rotate(-12deg) translateX(-12px); }
      50%{ transform: translate(-50%,-50%) rotate(-12deg) translateX(12px); }
      100%{ transform: translate(-50%,-50%) rotate(-12deg) translateX(-12px); }
    }

    /* ===== Layout ===== */
    .wrap{ position:relative; z-index: 1; width:min(1200px,100%); margin:0 auto; padding:26px 16px 80px; }

    .topbar{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:14px; user-select:none; }

    .brand{
      display:flex; gap:12px; align-items:center; cursor:pointer;
      padding:10px 14px; border-radius:18px;
      background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.18);
      backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
    }
    .mark{ width:42px; height:42px; border-radius:14px; background: linear-gradient(135deg,var(--navy),var(--red)); }

    .brandText .kicker{
      font-family:var(--mono); font-size:11px; letter-spacing:.14em;
      color:var(--muted); text-transform:uppercase;
    }
    .brandText .title{ font-size:16px; font-weight:900; letter-spacing:-.01em; color:var(--white); }

    .actions{ display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; }
    .btn{
      cursor:pointer; border-radius:14px; padding:10px 14px;
      background:rgba(255,255,255,.06); color:var(--white);
      border:1px solid rgba(255,255,255,.18);
      font-size:13px; font-weight:800; letter-spacing:.02em;
    }
    .btn.red{ background:rgba(198,34,65,.22); border-color:rgba(198,34,65,.6); }

    .layout{ display:grid; grid-template-columns:360px 1fr; gap:14px; align-items:start; }
    @media(max-width:960px){ .layout{ grid-template-columns:1fr; } }

    .panel{
      background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.14);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
    }

    .hero{
      padding:18px;
      border-bottom:1px solid rgba(255,255,255,.14);
      background:
        radial-gradient(650px 260px at 0% 10%, rgba(198,34,65,.22), transparent 62%),
        radial-gradient(650px 260px at 100% 0%, rgba(255,255,255,.10), transparent 62%),
        linear-gradient(135deg, rgba(9,32,65,.18), rgba(198,34,65,.10));
    }
    .hero h1{ margin:0 0 8px; font-size:22px; font-weight:900; color:rgba(255,255,255,.95); }

    .chip{
      font-family:var(--mono);
      font-size:12px;
      padding:4px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.20);
      background:rgba(255,255,255,.08);
      margin-right:6px;
      display:inline-block;
    }
    .chip.red{ background:rgba(198,34,65,.25); border-color:rgba(198,34,65,.6); }

    .nav{ padding:12px; display:flex; flex-direction:column; gap:10px; }
    .navItem{
      text-align:left; cursor:pointer; padding:12px; border-radius:16px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(255,255,255,.05);
      color:var(--white);
      font-weight:850;
      letter-spacing:-.01em;
    }
    .navItem.active{ background:rgba(198,34,65,.25); border-color:rgba(198,34,65,.7); }

    .content{ padding:18px; animation:fade .28s ease; }
    @keyframes fade{ from{opacity:0; transform:translateY(6px);} to{opacity:1; transform:translateY(0);} }

    .sectionTitle{ font-size:24px; font-weight:950; margin:0 0 6px; }
    .sectionLead{ color:var(--muted); margin:0 0 14px; line-height:1.6; }

    .block{
      border:1px solid rgba(255,255,255,.16);
      border-radius:16px;
      padding:14px;
      margin-bottom:12px;
      background:rgba(255,255,255,.05);
    }
    .block h3{
      margin:0 0 8px;
      font-size:12px;
      letter-spacing:.14em;
      text-transform:uppercase;
      color:rgba(255,255,255,.90);
    }
    .list{ margin:0; padding-left:18px; }
    .list li{ margin:6px 0; line-height:1.65; }
    .emptyNote{ color: rgba(234,240,255,.55); font-size:13px; line-height:1.6; }

    /* ===== Landing ===== */
    .landing{
      min-height:520px;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      text-align:center;
      padding: 24px 10px;
    }
    .landingTitle{
      font-size:clamp(48px,6vw,76px);
      font-weight:950;
      letter-spacing:.12em;
      text-transform:uppercase;
      margin:0;
    }
    .landingSub{
      margin:10px 0 0;
      color:rgba(234,240,255,.74);
      letter-spacing:.10em;
      text-transform:uppercase;
      font-size:14px;
    }
    .startBtn{
      margin-top:18px;
      padding:16px 22px;
      border-radius:18px;
      background:linear-gradient(135deg,var(--red),var(--navy));
      border:1px solid rgba(198,34,65,.7);
      color:white;
      font-weight:900;
      cursor:pointer;
      letter-spacing:.04em;
      text-transform:uppercase;
    }

    /* ================= PDF LAYOUT (dedicated DOM) ================= */
    .pdfRoot{
      width: 8.5in;
      background:#fff;
      color:#000;
      font-family: var(--sans);
    }

    .pdfPage{
      width: 8.5in;
      min-height: 11in;
      padding: 0.6in;
      background:#fff;

      /* one section per page */
      page-break-after: always;
      break-after: page;

      overflow: hidden;
    }
    .pdfPage:last-child{ page-break-after: auto; break-after: auto; }

    .pdfHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 14px;
      padding-bottom: 12px;
      margin-bottom: 14px;
      border-bottom: 2px solid #e6e9f2;
    }

    .pdfHeaderLeft{
      display:flex;
      align-items:center;
      gap: 12px;
      min-width: 0;
    }

    .pdfLogo{
      width: 56px;
      height: 56px;
      object-fit: contain;
      border-radius: 12px;
      border: 1px solid #eef1f8;
      background:#fff;
      flex: 0 0 auto;
    }

    .pdfHeaderText{ display:flex; flex-direction:column; gap: 4px; min-width: 0; }
    .pdfDocTitle{
      font-size: 18px;
      font-weight: 900;
      color: var(--navy);
      letter-spacing: -.01em;
      margin: 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 5.2in;
    }
    .pdfSectionTitle{
      font-size: 13px;
      font-weight: 900;
      color: var(--red);
      letter-spacing: .08em;
      text-transform: uppercase;
      margin: 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 5.2in;
    }

    .pdfHeaderRight{
      text-align:right;
      font-family: var(--mono);
      font-size: 11px;
      color: #24334a;
      line-height: 1.45;
      white-space: nowrap;
    }

    .pdfDivider{
      height: 4px;
      width: 100%;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--navy), var(--red), var(--navy));
      margin: 0 0 14px;
    }

    .pdfLead{
      font-size: 12px;
      color: #2a3a54;
      margin: 0 0 14px;
      line-height: 1.55;
    }

    .pdfBlock{
      border: 1px solid #e9edf6;
      border-radius: 14px;
      padding: 12px;
      margin-bottom: 12px;
      background: #ffffff;

      break-inside: avoid;
      page-break-inside: avoid;
    }
    .pdfBlock h3{
      margin: 0 0 8px;
      font-size: 11px;
      letter-spacing: .14em;
      text-transform: uppercase;
      color: var(--navy);
    }
    .pdfBlock ul{
      margin: 0;
      padding-left: 18px;
      color: #111b2c;
      font-size: 12px;
      line-height: 1.6;
    }
    .pdfBlock li{ margin: 5px 0; }
  </style>
</head>

<body>
  <div class="bg" aria-hidden="true">
    <div class="bgWord">ONE LIBERTY</div>
  </div>

  <div class="wrap">
    <header class="topbar">
      <div class="brand" id="homeBtn" tabindex="0" role="button" title="Go to start">
        <div class="mark" aria-hidden="true"></div>
        <div class="brandText">
          <div class="kicker">LIGHTSPEED • ONE LIBERTY</div>
          <div class="title">Meeting Agenda</div>
        </div>
      </div>

      <div class="actions">
        <button class="btn" id="copyLinkBtn">Copy Link</button>
        <button class="btn red" id="pdfSectionBtn">PDF Section</button>
        <button class="btn red" id="pdfAllBtn">PDF Full</button>
      </div>
    </header>

    <section class="layout">
      <aside class="panel">
        <div class="hero">
          <h1 id="heroTitle">One Liberty Meeting Agenda</h1>
          <div>
            <span class="chip" id="timeChip">9:00 AM</span>
            <span class="chip" id="dateChip">01/23/2026</span>
            <span class="chip red" id="sectionChip">Start</span>
          </div>
        </div>
        <nav class="nav" id="nav"></nav>
      </aside>

      <main class="panel">
        <div class="content" id="content"></div>
      </main>
    </section>
  </div>

  <script>
    // Put your logo in the repo at: /assets/logo.png
    // IMPORTANT: a missing/cross-origin logo can taint canvas and make PDF blank.
    // This script auto-falls back to "no logo" if it can't load.
    const PDF_LOGO_SRC = "assets/logo.png";

    const AGENDA = {
      title: "One Liberty Meeting Agenda",
      time: "9:00 AM",
      date: "01/23/2026",
      sections: [
        {
          id: "landing",
          navTitle: "Start",
          navSub: "Launch meeting",
          title: "ONE LIBERTY",
          lead: "Lightspeed • Meeting Agenda",
          blocks: []
        },

        {
          id: "overview",
          navTitle: "Overview",
          navSub: "Meeting title, time, and section list",
          title: "Agenda Overview",
          lead: "Professional, section-by-section agenda for One Liberty coordination.",
          blocks: [
            { heading: "Meeting Details", bullets: [
              "Meeting: One Liberty Meeting Agenda",
              "Time: 9:00 AM",
              "Date: 01/23/2026"
            ]},
            { heading: "Sections", bullets: [
              "1. Safety",
              "2. Specialty Work",
              "3. Equipment Coordination",
              "4. All Access Scopes",
              "5. Special Projects",
              "6. Builds"
            ]}
          ]
        },

        {
          id: "safety",
          navTitle: "1. Safety",
          navSub: "Awareness, risks, incidents",
          title: "1. Safety",
          lead: "General safety awareness, current field risks and mitigations, and any incidents / near misses.",
          blocks: [
            { heading: "Safety", bullets: [
              "General safety awareness",
              "Current field risks and mitigations",
              "Any incidents, near misses, or updates"
            ]}
          ]
        },

        {
          id: "specialty-work",
          navTitle: "2. Specialty Work",
          navSub: "Field updates, pours, contract admin, close-out",
          title: "2. Specialty Work",
          lead: "Field status and sequencing constraints, action-required items, and contract admin updates.",
          blocks: [
            { heading: "Field Updates", bullets: [] },

            { heading: "Pours", bullets: [
              "Status, sequencing, and constraints"
            ]},

            { heading: "Stair 2 Floor Landing — Action Required", bullets: [
              "Outstanding items",
              "Responsibility and next steps"
            ]},

            { heading: "Contract Administration", bullets: [] },

            { heading: "Change Order Status", bullets: [
              "Pricing NF1118",
              "Smith Premium Time for Tie Beam",
              "Recent ticket work for BS",
              "GProulx delays affecting A1L7 and A2L7",
              "Potential grading scope add for ASD-013"
            ]},

            { heading: "Close-Out Activities", bullets: [] },

            { heading: "Completion List / Floor Turnover Plan", bullets: [
              "Level 2 – Complete 2/2",
              "Level 3 – Complete 2/23",
              "Level 4 – Complete 3/16"
            ]},

            { heading: "Needs From Suffolk", bullets: [
              "Building 7 slab doweling at South Stair"
            ]}
          ]
        },

        {
          id: "equipment",
          navTitle: "3. Equipment Coordination",
          navSub: "Tower cranes, inspections, TC1/TC2, hoist",
          title: "3. Equipment Coordination",
          lead: "Tower crane and hoist milestones, inspection cadence, repair windows, and dismantle dates.",
          blocks: [
            { heading: "Tower Cranes — Monthly Inspections", bullets: [
              "January: 1/27"
            ]},

            { heading: "TC1", bullets: [
              "Repair: 1/27 PM",
              "Tie-in embed needed before 3/26",
              "Jump 2: 3/28",
              "Jump 3: 6/6",
              "Dismantle: 9/9"
            ]},

            { heading: "TC2", bullets: [
              "Tie-in embed needed before 1/29",
              "Dismantle: 8/1"
            ]},

            { heading: "Hoist", bullets: [
              "Jump 1: 2/23",
              "Jump 2: 4/25",
              "Jump 3: 6/13",
              "Dismantle: 10/1?"
            ]}
          ]
        },

        {
          id: "all-access",
          navTitle: "4. All Access Scopes",
          navSub: "Netting, overhead protection, stair tower, Rapid EPS",
          title: "4. All Access Scopes",
          lead: "All-access scope coordination and scheduled dates for supporting systems.",
          blocks: [
            { heading: "Netting", bullets: [
              "Jump on North, East & West: 2/23",
              "South Jump: 3/23"
            ]},

            { heading: "Overhead Protection", bullets: [
              "Status & outstanding needs"
            ]},

            { heading: "B7 Stair Tower", bullets: [
              "Progress / coordination requirements"
            ]},

            { heading: "Rapid EPS — Scheduled Dates", bullets: [
              "1/22",
              "2/18",
              "3/11",
              "4/1",
              "5/1",
              "6/1"
            ]}
          ]
        },

        {
          id: "special-projects",
          navTitle: "5. Special Projects",
          navSub: "DFH, award progress, submittals, MRF, accessories",
          title: "5. Special Projects",
          lead: "Special project scope alignment, award progress, and installer/accessory coordination.",
          blocks: [
            { heading: "Scopes", bullets: [
              "DFH",
              "Contract Award Progress",
              "Submittals",
              "Suffolk MRF",
              "Priority frames for Building 7 due 2/16"
            ]},

            { heading: "Installer Coordination", bullets: [
              "Pending confirmation"
            ]},

            { heading: "Accessories", bullets: [
              "Stair Nosings",
              "Additional scope items (TBD)"
            ]}
          ]
        },

        {
          id: "builds",
          navTitle: "6. Builds",
          navSub: "Suffolk manpower, headcount, schedule needs",
          title: "6. Builds",
          lead: "Suffolk manpower status and labor planning against pour schedule / critical path.",
          blocks: [
            { heading: "Suffolk Manpower", bullets: [
              "Current headcount",
              "Upcoming needs based on pour schedule / critical path",
              "Labor adjustments for specialty scopes"
            ]}
          ]
        }
      ]
    };

    const navEl = document.getElementById("nav");
    const contentEl = document.getElementById("content");
    const heroTitle = document.getElementById("heroTitle");
    const timeChip = document.getElementById("timeChip");
    const dateChip = document.getElementById("dateChip");
    const sectionChip = document.getElementById("sectionChip");

    const homeBtn = document.getElementById("homeBtn");
    const copyLinkBtn = document.getElementById("copyLinkBtn");
    const pdfSectionBtn = document.getElementById("pdfSectionBtn");
    const pdfAllBtn = document.getElementById("pdfAllBtn");

    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function setRoute(id){ window.location.hash = `s=${encodeURIComponent(id)}`; }
    function getRoute(){
      const raw = window.location.hash.replace("#","").trim();
      const p = new URLSearchParams(raw);
      return p.get("s") || "landing";
    }
    function findSection(id){
      return AGENDA.sections.find(s => s.id === id) || AGENDA.sections[0];
    }

    function renderNav(activeId){
      navEl.innerHTML = "";
      if (activeId === "landing"){
        navEl.style.display = "none";
        return;
      }
      navEl.style.display = "flex";

      for (const s of AGENDA.sections){
        if (s.id === "landing") continue;
        const b = document.createElement("button");
        b.type = "button";
        b.className = "navItem" + (s.id === activeId ? " active" : "");
        b.textContent = s.navTitle;
        b.addEventListener("click", () => setRoute(s.id));
        navEl.appendChild(b);
      }
    }

    function renderContent(section){
      heroTitle.textContent = AGENDA.title;
      timeChip.textContent = AGENDA.time;
      dateChip.textContent = AGENDA.date;
      sectionChip.textContent = section.id === "landing" ? "Start" : section.navTitle;

      if (section.id === "landing"){
        contentEl.innerHTML = `
          <div class="landing">
            <h2 class="landingTitle">ONE LIBERTY</h2>
            <div class="landingSub">LIGHTSPEED • MEETING AGENDA • ${escapeHtml(AGENDA.time)} • ${escapeHtml(AGENDA.date)}</div>
            <button class="startBtn" id="startMeetingBtn">Start Meeting</button>
          </div>
        `;
        document.getElementById("startMeetingBtn").addEventListener("click", () => setRoute("overview"));
        return;
      }

      const blocksHtml = (section.blocks || []).map(b => {
        const list = (b.bullets && b.bullets.length)
          ? `<ul class="list">${b.bullets.map(x => `<li>${escapeHtml(x)}</li>`).join("")}</ul>`
          : `<div class="emptyNote">(Discussion / updates)</div>`;
        return `<div class="block"><h3>${escapeHtml(b.heading)}</h3>${list}</div>`;
      }).join("");

      contentEl.innerHTML = `
        <h2 class="sectionTitle">${escapeHtml(section.title)}</h2>
        <p class="sectionLead">${escapeHtml(section.lead || "")}</p>
        ${blocksHtml}
      `;
    }

    function render(){
      const id = getRoute();
      const section = findSection(id);
      renderNav(section.id);
      renderContent(section);
    }

    window.addEventListener("hashchange", render);
    if (!window.location.hash) setRoute("landing");
    render();

    homeBtn.addEventListener("click", () => setRoute("landing"));
    homeBtn.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " ") setRoute("landing");
    });

    copyLinkBtn.addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText(window.location.href);
        copyLinkBtn.textContent = "Copied";
        setTimeout(() => copyLinkBtn.textContent = "Copy Link", 900);
      }catch{
        window.prompt("Copy this link:", window.location.href);
      }
    });

    // ===========================
    // PDF (FIXED): not empty + one section per page + full agenda
    // ===========================
    function loadImageSafe(src){
      return new Promise((resolve) => {
        const img = new Image();
        img.crossOrigin = "anonymous";
        img.onload = () => resolve({ ok: true, src });
        img.onerror = () => resolve({ ok: false, src });
        img.src = src;
      });
    }

    function buildPdfRoot(sections, showLogo){
      const root = document.createElement("div");
      root.className = "pdfRoot";

      sections.forEach(sec => {
        const page = document.createElement("div");
        page.className = "pdfPage";

        const blocks = (sec.blocks || []).map(b => {
          const items = (b.bullets || []).map(i => `<li>${escapeHtml(i)}</li>`).join("");
          const list = (b.bullets && b.bullets.length)
            ? `<ul>${items}</ul>`
            : `<div style="color:#5b6a82; font-size:12px; line-height:1.55;">(Discussion / updates)</div>`;
          return `<div class="pdfBlock"><h3>${escapeHtml(b.heading)}</h3>${list}</div>`;
        }).join("");

        const logoHtml = showLogo
          ? `<img class="pdfLogo" src="${PDF_LOGO_SRC}" alt="Company Logo" />`
          : `<div class="pdfLogo" style="display:flex;align-items:center;justify-content:center;color:#6a7890;font:700 10px var(--mono);">LOGO</div>`;

        page.innerHTML = `
          <div class="pdfHeader">
            <div class="pdfHeaderLeft">
              ${logoHtml}
              <div class="pdfHeaderText">
                <p class="pdfDocTitle">${escapeHtml(AGENDA.title)}</p>
                <p class="pdfSectionTitle">${escapeHtml(sec.title)}</p>
              </div>
            </div>
            <div class="pdfHeaderRight">
              <div>${escapeHtml(AGENDA.time)} • ${escapeHtml(AGENDA.date)}</div>
              <div style="color:#5b6a82;">Lightspeed • One Liberty</div>
            </div>
          </div>
          <div class="pdfDivider"></div>
          <p class="pdfLead">${escapeHtml(sec.lead || "")}</p>
          ${blocks}
        `;

        root.appendChild(page);
      });

      return root;
    }

    async function exportPdf({ sectionOnly }){
      // Export all agenda sections (exclude landing)
      const exportable = AGENDA.sections.filter(s => s.id !== "landing");
      const current = findSection(getRoute());

      const sections = sectionOnly
        ? (current.id === "landing" ? [exportable[0]] : [current])
        : exportable;

      // Fix #1 for empty PDF:
      // If the logo fails to load (CORS / missing file), html2canvas can produce blank output.
      // We detect it and auto-fallback to a non-image logo box.
      const logoCheck = await loadImageSafe(PDF_LOGO_SRC);
      const showLogo = logoCheck.ok;

      // Build dedicated PDF DOM (prevents page overlap)
      const pdfRoot = buildPdfRoot(sections, showLogo);

      // Attach off-screen but renderable
      pdfRoot.style.position = "fixed";
      pdfRoot.style.left = "0";
      pdfRoot.style.top = "0";
      pdfRoot.style.opacity = "0";
      pdfRoot.style.pointerEvents = "none";
      document.body.appendChild(pdfRoot);

      // Force layout
      await new Promise(r => requestAnimationFrame(() => requestAnimationFrame(r)));

      const fileName = sectionOnly ? "one-liberty-section.pdf" : "one-liberty-agenda.pdf";

      const opt = {
        margin: 0,
        filename: fileName,
        image: { type: "jpeg", quality: 0.98 },
        html2canvas: {
          scale: 2,
          useCORS: true,
          allowTaint: true,
          backgroundColor: "#ffffff",
          logging: false
        },
        jsPDF: { unit: "in", format: "letter", orientation: "portrait" },
        pagebreak: { mode: ["css", "legacy", "avoid-all"] }
      };

      try{
        await html2pdf().set(opt).from(pdfRoot).save();
      } finally {
        document.body.removeChild(pdfRoot);
      }
    }

    pdfSectionBtn.addEventListener("click", () => exportPdf({ sectionOnly: true }));
    pdfAllBtn.addEventListener("click", () => exportPdf({ sectionOnly: false }));
  </script>
</body>
</html>
